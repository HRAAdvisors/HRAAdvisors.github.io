<html>
<head>
	<script src="https://d3js.org/d3.v4.js"></script>
	</head>
	<body>
		<div id='table'></div>
	</body>
	<script>
		d3.csv("https://docs.google.com/spreadsheets/d/1xOOqJlqbLIsuJdOIRC30UbJjYdQOcf6bKTxqvsMVoQE/gviz/tq?tqx=out:csv&gid=0", function(error, data) {
      if (error) throw error;
      
      console.log(data)
    
    function getYs(geos,value){
    return geos.map(d => eval('d.' + value));
    }


    var columns = getYs(data,'location')

    var table = d3.select('#table').append("table");
    var thead = table.append("thead");
    var tbody = table.append("tbody");

     thead.append("tr")
        .selectAll("th")
        .data(columns)
        .enter()
        .append("th")
        .text(function(column) { return column; });

      tbody.selectAll("tr")
        .data(data)
        .enter()
        .append("tr")
        .selectAll("td")
        .data(function(row) {
          return columns.map(function(column) {
            return {
              column: column,
              value: row[column]
            };
          });
        })
        .enter()
        .append("td")
        .text(function(d) { return d.value; })
        .style("color","#000");


  });
	</script>
</html>





<!--
var menuBox = document.getElementById('menu-box');




var table = d3.select('#table').append("table");
    var thead = table.append("thead");
    var tbody = table.append("tbody");

     thead.append("tr")
        .selectAll("th")
        .data(columns)
        .enter()
        .append("th")
        .text(function(column) { return column; });

      tbody.selectAll("tr")
        .data(data)
        .enter()
        .append("tr")
        .selectAll("td")
        .data(function(row) {
          return columns.map(function(column) {
            return {
              column: column,
              value: row[column]
            };
          });
        })
        .enter()
        .append("td")
        .text(function(d) { return d.value; })
        .style("color","#000");


columns = ['geo','my','whistle']

var table = d3.select('#table').append("table");
    var thead = table.append("thead");
    var tbody = table.append("tbody");


var table = d3.select('#table').append("table");
    var thead = table.append("thead");
    var tbody = table.append("tbody");

     thead.append("tr")
        .selectAll("th")
        .data(columns)
        .enter()
        .append("th")
        .append("select")
        .append("option")
        .attr("value", function(d){
        return d;
      })
      .text(function(d){
        return d;
      })





        -->