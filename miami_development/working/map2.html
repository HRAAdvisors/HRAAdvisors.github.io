<html><head>
    <meta charset="utf-8">
    <title>Miami DDA 3D Buildings</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>
    <script src="https://unpkg.com/three@0.126.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css" rel="stylesheet" />
    <link href="style/mapboxoverride.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;display=swap" rel="stylesheet">
    <link href="style/dda.css" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body data-new-gr-c-s-check-loaded="14.998.0" data-gr-ext-installed="" class="vsc-initialized">
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css" type="text/css">
    <div id="menu" class="mobilehide">
        <div id="officebutton" class="on bordertop"><img src="style/office.svg" height="20px" width="20px" style="vertical-align:middle">   Existing Office</div>
        <div id="proposedbutton" class="on"><img src="style/proposed.svg" height="20px" width="20px" style="vertical-align:middle">   Proposed Office</div>
        <div id="condobutton" class="on"><img src="style/condo.svg" height="20px" width="20px" style="vertical-align:middle">   Condominiums</div>
        <div id="rentalbutton" class="on"><img src="style/rental.svg" height="20px" width="20px" style="vertical-align:middle">   Rental Apartments</div>
        <div id="hotelbutton" class="on"><img src="style/hotel.svg" height="20px" width="20px" style="vertical-align:middle">   Hotels</div>
        <div id="shoppingbutton" class="on"><img src="style/retail.svg" height="20px" width="20px" style="vertical-align:middle">   Shopping Centers</div>
        <div id="otherbutton" class="on"><img src="style/other.svg" height="20px" width="20px" style="vertical-align:middle">   Other</div>
        <div class="img-container"><img src="style/key.png" width="200">
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
    <div id="map" class="mapboxgl-map"><div class="mapboxgl-canary" style="visibility: hidden;"></div><div class="mapboxgl-canvas-container mapboxgl-interactive mapboxgl-touch-drag-pan mapboxgl-touch-zoom-rotate"><canvas class="mapboxgl-canvas" tabindex="0" aria-label="Map" width="1920" height="1009" style="width: 1920px; height: 1009px;"></canvas></div><div class="mapboxgl-control-container"><div class="mapboxgl-ctrl-top-left"></div><div class="mapboxgl-ctrl-top-right"><div class="mapboxgl-ctrl-geocoder mapboxgl-ctrl"><svg class="mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-search" viewBox="0 0 18 18" xml:space="preserve" width="18" height="18"><path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"></path></svg><input type="text" class="mapboxgl-ctrl-geocoder--input" placeholder="Search" aria-label="Search"><div class="suggestions-wrapper"><ul class="suggestions" style="display: none;"></ul></div><div class="mapboxgl-ctrl-geocoder--pin-right"><button aria-label="Clear" class="mapboxgl-ctrl-geocoder--button"><svg class="mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-close" viewBox="0 0 18 18" xml:space="preserve" width="18" height="18"><path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"></path></svg></button><svg class="mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-loading" viewBox="0 0 18 18" xml:space="preserve" width="18" height="18"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg></div></div></div><div class="mapboxgl-ctrl-bottom-left"><div class="mapboxgl-ctrl" style="display: block;"><a class="mapboxgl-ctrl-logo" target="_blank" rel="noopener nofollow" href="https://www.mapbox.com/" aria-label="Mapbox logo"></a></div></div><div class="mapboxgl-ctrl-bottom-right"><div class="mapboxgl-ctrl mapboxgl-ctrl-attrib"><div class="mapboxgl-ctrl-attrib-inner"><a href="https://www.mapbox.com/about/maps/" target="_blank">© Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">© OpenStreetMap</a> <a class="mapbox-improve-map" href="https://apps.mapbox.com/feedback/?owner=mddacartifact&amp;id=ckedanrsi0cqo19o8uom16pza&amp;access_token=pk.eyJ1IjoibWRkYWNhcnRpZmFjdCIsImEiOiJja2VkYWh4NXgwMXc2MnFwcTd6NHIxZDV4In0.ErKeTGrDA41f5U-RBgvBpQ" target="_blank" rel="noopener nofollow">Improve this map</a></div></div></div></div></div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoia3BjbHluZSIsImEiOiJjanN3MzlpY2EwZGpjM3lsaGNhb3NqY3JmIn0._sGjIhmL5Xt08WIMWRsSsg';
        var bounds = [
[-80.24975, 25.73521]
, [-80.13341, 25.83169]
];
        var map = (window.map = new mapboxgl.Map({
            container: 'map'
            , style: 'mapbox://styles/kpclyne/ckm2x7n0u1cr018nzpjesupiy'
            , center: [-80.188965, 25.776679]
            , zoom: 13
            , pitch: 47
            , bearing: -25
            , minZoom: 12.5
            , maxZoom: 16
            , maxPitch: 85
            , maxBounds: bounds
            , antialias: true
        }));

        map.addControl(new MapboxGeocoder({
            accessToken: mapboxgl.accessToken
            , mapboxgl: mapboxgl
        }));


        var modelOrigin = [-80.184516, 25.776999];
        var modelAltitude = 10;
        var modelRotate = [Math.PI / 2, 1, 0];
         
        var modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(
        modelOrigin,
        modelAltitude
        );
         
        // transformation parameters to position, rotate and scale the 3D model onto the map
        var modelTransform = {
        translateX: modelAsMercatorCoordinate.x,
        translateY: modelAsMercatorCoordinate.y,
        translateZ: modelAsMercatorCoordinate.z,
        rotateX: modelRotate[0],
        rotateY: modelRotate[1],
        rotateZ: modelRotate[2],
        /* Since our 3D model is in real world meters, a scale transform needs to be
        * applied since the CustomLayerInterface expects units in MercatorCoordinates.
        */
        scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits()*.05
        };
         
        var THREE = window.THREE;
         
        // configuration of the custom layer for a 3D model per the CustomLayerInterface
        var customLayer = {
        id: '3d-model',
        type: 'custom',
        renderingMode: '3d',
        onAdd: function (map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();
         
        // create two three.js lights to illuminate the model
        var directionalLight = new THREE.DirectionalLight(0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
         
        var directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(0, 70, 100).normalize();
        this.scene.add(directionalLight2);
         
        // use the three.js GLTF loader to add the 3D model to the three.js scene
        var loader = new THREE.GLTFLoader();
        loader.load(
        'ferris-wheel.gltf',
        function (gltf) {
        this.scene.add(gltf.scene);
        }.bind(this)
        );
        this.map = map;
         
        // use the Mapbox GL JS map canvas for three.js
        this.renderer = new THREE.WebGLRenderer({
        canvas: map.getCanvas(),
        context: gl,
        antialias: true
        });
         
        this.renderer.autoClear = false;
        },
        render: function (gl, matrix) {
        var rotationX = new THREE.Matrix4().makeRotationAxis(
        new THREE.Vector3(1, 0, 0),
        modelTransform.rotateX
        );
        var rotationY = new THREE.Matrix4().makeRotationAxis(
        new THREE.Vector3(0, 1, 0),
        modelTransform.rotateY
        );
        var rotationZ = new THREE.Matrix4().makeRotationAxis(
        new THREE.Vector3(0, 0, 1),
        modelTransform.rotateZ
        );
         
        var m = new THREE.Matrix4().fromArray(matrix);
        var l = new THREE.Matrix4()
        .makeTranslation(
        modelTransform.translateX,
        modelTransform.translateY,
        modelTransform.translateZ
        )
        .scale(
        new THREE.Vector3(
        modelTransform.scale,
        -modelTransform.scale,
        modelTransform.scale
        )
        )
        .multiply(rotationX)
        .multiply(rotationY)
        .multiply(rotationZ);
         
        this.camera.projectionMatrix = m.multiply(l);
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        this.map.triggerRepaint();
        }
        };

        map.on('style.load', function () {
        
    });

        // set functions for layer toggle buttons
        map.on('style.load', function () {


        map.addSource('properties', {
          // GeoJSON Data source used in vector tiles, documented at
          // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
          'type': 'geojson',
          'data':'properties.geojson'

          });

        map.addSource('proposed', {
          // GeoJSON Data source used in vector tiles, documented at
          // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
          'type': 'geojson',
          'data':'proposed.geojson'

          });

        map.addSource('subdistricts', {
          // GeoJSON Data source used in vector tiles, documented at
          // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
          'type': 'geojson',
          'data':'subdistrict2.geojson'

          });

        map.addSource('transit', {
          // GeoJSON Data source used in vector tiles, documented at
          // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
          'type': 'geojson',
          'data':'transit.geojson'

          });

        

        map.addLayer({
          'id': 'subdistricts',
          'type': 'fill',
          'source': 'subdistricts',
          'paint': {
          'fill-color': ['get', 'color'],
          'fill-opacity': 0.6
        }
        });

        map.addLayer({
        'id': 'route',
        'type': 'line',
        'source': 'transit',
        'paint': {
            // data-driven style for line color
            'line-color': {
                property: 'color',
                type: 'identity'
            },
            //data-driven style for line offset
            'line-offset': {
                property: 'order',
                type: 'categorical',
                stops: [
                    [1, 0],
                    [2, 3],
                    [3, 6]
                  ]
            },
            'line-width': 3
        }
    });

        map.addLayer({
          'id': 'office',
          'type': 'fill-extrusion',
          'source': 'properties',
          'filter':['==', 'type', 'Office'],
          'paint': {
          'fill-extrusion-color': "#2E43A9",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer({
          'id': 'hotel',
          'type': 'fill-extrusion',
          'source': 'properties',
          'filter':['==', 'type', 'Hotel'],
          'paint': {
          'fill-extrusion-color': "#D16BBB",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer({
          'id': 'proposed',
          'type': 'fill-extrusion',
          'source': 'proposed',
          'paint': {
          'fill-extrusion-color': "#1E8C6F",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer({
          'id': 'condo',
          'type': 'fill-extrusion',
          'source': 'properties',
          'filter':['==', 'type', 'Condominium Building'],
          'paint': {
          'fill-extrusion-color': "#F77E08",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer({
          'id': 'rental',
          'type': 'fill-extrusion',
          'source': 'properties',
          'filter':['==', 'type', 'Rental Apartments'],
          'paint': {
          'fill-extrusion-color': "#FFC000",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer({
          'id': 'retail',
          'type': 'fill-extrusion',
          'source': 'properties',
          'filter':['==', 'type', 'Shopping'],
          'paint': {
          'fill-extrusion-color': "#FF101F",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer({
          'id': 'other',
          'type': 'fill-extrusion',
          'source': 'properties',
          'filter':["!=", ["typeof", ["get", "type"]], "string"],
          'paint': {
          'fill-extrusion-color': "#D9D9D9",
          'fill-extrusion-height': ['get', 'height'],
          'fill-extrusion-base': ['get', 'minheight'],
          'fill-extrusion-height-transition':{
                    duration: 2000,
                    delay: 2000
                },
          'fill-extrusion-color-transition':{
                    duration: 2000
                },
          'fill-extrusion-opacity': .9
          }
        });

        map.addLayer(customLayer);

            //console.log(map.getSource('composite'))

        /*
        console.log(map.getStyle().layers);

		console.log(map.querySourceFeatures('composite', {
		sourceLayer: 'combinedbuildings-782d1o'
		}))

		console.log(map.querySourceFeatures('composite', {
		sourceLayer: 'miamiresibuildings-cumrhg'
		}))*/


            //console.log(map.queryRenderedFeatures({layers: ['brightline']}))
            
            
            var officetoggle = document.getElementById('officebutton');
            officetoggle.addEventListener('click', function () {
                if (officetoggle.className === 'on bordertop') {
                    officetoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('office', 'visibility', 'none');
                    map.setLayoutProperty('office', 'visibility', 'none');
                    officetoggle.className = 'off bordertop';
                }
                else {
                    officetoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('office', 'visibility', 'visible');
                    map.setLayoutProperty('office', 'visibility', 'visible');
                    officetoggle.className = 'on bordertop';
                }
            });
            

        });

        /*
        map.on('load', function () {
            var othertoggle = document.getElementById('otherbutton');
            othertoggle.addEventListener('click', function () {
                if (othertoggle.className === 'on') {
                    othertoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('other', 'visibility', 'none');
                    map.setLayoutProperty('other', 'visibility', 'none');
                    othertoggle.className = 'off';
                }
                else {
                    othertoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('other', 'visibility', 'visible');
                    map.setLayoutProperty('other', 'visibility', 'visible');
                    othertoggle.className = 'on';
                }
            });
        });*/
        map.on('load', function () {
            var proptoggle = document.getElementById('proposedbutton');
            proptoggle.addEventListener('click', function () {
                if (proptoggle.className === 'on') {
                    proptoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('proposed', 'visibility', 'none');
                    map.setLayoutProperty('proposed', 'visibility', 'none');
                    proptoggle.className = 'off';
                }
                else {
                    proptoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('proposed', 'visibility', 'visible');
                    map.setLayoutProperty('proposed', 'visibility', 'visible');
                    proptoggle.className = 'on';
                }
            });
        });
        map.on('load', function () {
            var condotoggle = document.getElementById('condobutton');
            condotoggle.addEventListener('click', function () {
                if (condotoggle.className === 'on') {
                    condotoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('condo', 'visibility', 'none');
                    map.setLayoutProperty('condo', 'visibility', 'none');
                    condotoggle.className = 'off';
                }
                else {
                    condotoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('condo', 'visibility', 'visible');
                    map.setLayoutProperty('condo', 'visibility', 'visible');
                    condotoggle.className = 'on';
                }
            });
        });
        map.on('load', function () {
            var rentaltoggle = document.getElementById('rentalbutton');
            rentaltoggle.addEventListener('click', function () {
                if (rentaltoggle.className === 'on') {
                    rentaltoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('rental', 'visibility', 'none');
                    map.setLayoutProperty('rental', 'visibility', 'none');
                    rentaltoggle.className = 'off';
                }
                else {
                    rentaltoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('rental', 'visibility', 'visible');
                    map.setLayoutProperty('rental', 'visibility', 'visible');
                    rentaltoggle.className = 'on';
                }
            });
        });

        map.on('load', function () {
            var othertoggle = document.getElementById('otherbutton');
            othertoggle.addEventListener('click', function () {
                if (othertoggle.className === 'on') {
                    othertoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('other', 'visibility', 'none');
                    map.setLayoutProperty('other', 'visibility', 'none');
                    othertoggle.className = 'off';
                }
                else {
                   othertoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('other', 'visibility', 'visible');
                    map.setLayoutProperty('other', 'visibility', 'visible');
                    othertoggle.className = 'on';
                }
            });
        });

        map.on('load', function () {
            var hoteltoggle = document.getElementById('hotelbutton');
            hoteltoggle.addEventListener('click', function () {
                if (hoteltoggle.className === 'on') {
                    hoteltoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('hotel', 'visibility', 'none');
                    map.setLayoutProperty('hotel', 'visibility', 'none');
                    hoteltoggle.className = 'off';
                }
                else {
                    hoteltoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('hotel', 'visibility', 'visible');
                    map.setLayoutProperty('hotel', 'visibility', 'visible');
                    hoteltoggle.className = 'on';
                }
            });
        });
        map.on('load', function () {
            var shoppingtoggle = document.getElementById('shoppingbutton');
            shoppingtoggle.addEventListener('click', function () {
                if (shoppingtoggle.className === 'on') {
                    shoppingtoggle.setAttribute('class', 'off');
                    map.setLayoutProperty('retail', 'visibility', 'none');
                    map.setLayoutProperty('retail', 'visibility', 'none');
                    shoppingtoggle.className = 'off';
                }
                else {
                    shoppingtoggle.setAttribute('class', 'on bordertop');
                    map.setLayoutProperty('retail', 'visibility', 'visible');
                    map.setLayoutProperty('retail', 'visibility', 'visible');
                    shoppingtoggle.className = 'on';
                }
            });
        });
        
        // callouts on click
        map.on('load', function () {
            map.on('click', 'office', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name_1 + '</div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'office', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'office', function () {
                map.getCanvas().style.cursor = '';
            });
        });

        map.on('load', function () {
            map.on('click', 'proposed', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name + '</div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'proposed', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'proposed', function () {
                map.getCanvas().style.cursor = '';
            });
        });
        /*
        map.on('load', function () {
            map.on('click', 'other', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name + '</div><div style = "padding-top:5px;"> Stories: <b>' + e.features[0].properties.stories + '</b></div><div> Square Feet: <b>' + e.features[0].properties.sf + '</b></div><div> Leasing Firm: <b>' + e.features[0].properties.leasing + '</b></div><div> Contact: <b>' + e.features[0].properties.contact + '</b></div><div> Phone: <b>' + e.features[0].properties.phone + '</b></div><div> Email: <b>' + e.features[0].properties.email + '</b></div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'other', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'other', function () {
                map.getCanvas().style.cursor = '';
            });
        });*/
        map.on('load', function () {
            map.on('click', 'condo', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name_1 + '</div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'condo', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'condo', function () {
                map.getCanvas().style.cursor = '';
            });
        });
        map.on('load', function () {
            map.on('click', 'rental', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name_1 + '</div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'rental', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'rental', function () {
                map.getCanvas().style.cursor = '';
            });
        });
        map.on('load', function () {
            map.on('click', 'hotel', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name_1 + '</div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'hotels', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'hotels', function () {
                map.getCanvas().style.cursor = '';
            });
        });
        map.on('load', function () {
            map.on('click', 'retail', function (e) {
                new mapboxgl.Popup().setLngLat(e.lngLat).setHTML('<div class="marker-title">' + e.features[0].properties.name_1 + '</div>').setMaxWidth("700px").addTo(map);
            });
            map.on('mouseenter', 'retail', function () {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'retail', function () {
                map.getCanvas().style.cursor = '';
            });
        });
        /*
        // station names on hover
        var popup = new mapboxgl.Popup({
            closeButton: false
            , closeOnClick: false
        });
        map.on('mouseenter', 'metromover-stops', function (e) {
            // Change the cursor style as a UI indicator.
            map.getCanvas().style.cursor = 'pointer';
            var coordinates = e.features[0].geometry.coordinates.slice();
            var description = e.features[0].properties.NAME;
            while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
            }
            popup.setLngLat(coordinates).setHTML('<i>' + description + '</i>').addTo(map);
        });
        map.on('mouseleave', 'metromover-stops', function () {
            map.getCanvas().style.cursor = '';
            popup.remove();
        });*/
    </script>


</body></html>